pico-8 cartridge // http://www.pico-8.com
version 38
__lua__

function _init()
player = make_object(60,60,1,6,6)
dog = make_object(30,30,0,7,7)

end

function _update()

deplacerplayer()
deplacerdog()
stopdog()

end

function deplacerplayer()

	if (btn(➡️))  player.x +=1
	if (btn(⬅️))  player.x -=1
	if (btn(⬆️))  player.y -=1
	if (btn(⬇️))  player.y +=1
	
	if not player.ismoving then
		player.ismoving = true
	end

end

function deplacerdog()

if dog.x < player.x then
 dog.x += 0.5
  elseif dog.x > player.x then
    dog.x -= 0.5
    elseif dog.ismoving then
					dog.ismoving = true
  end

  if dog.y < player.y then
    dog.y += 0.5
  elseif dog.y > player.y then
    dog.y -= 0.5
    elseif dog.ismoving then
					dog.ismoving = true
  end
end

function stopdog()
	if player.ismoving == false then
		dog.ismoving = false
	end
end

function _draw()
 cls()
 spr(player.sprite,player.x,player.y)
 spr(dog.sprite,dog.x,dog.y)
 print(player.ismoving)
end






-->8
--objets

objects={}

function make_object(x,y,sprite,h,w)
	local object = {}
	object.x = x
	object.y = y
	object.sprite = sprite
	object.dx = 0
	object.dy = 0
	object.h = h
	object.w = w
	object.ismoving = false
	add(objects,object)
	return object
end

function check_flag(flag,x,y)
	local sprite=mget(x,y)
	return fget(sprite,flag)
end
__gfx__
009fff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0471f170044444000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44fff455047474000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44994444040004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
440880e0447774400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00fffa00003a30000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0ffff000003330000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
f09ff900003a30000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__gff__
0101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
